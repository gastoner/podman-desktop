import{x as k,y as q,z as h,A as S,S as x}from"./index-server-BWXoUGKu.js";let a=!1,c=[];function A(){a=!1;const s=c.slice();c=[],k(s)}function M(s){a||(a=!0,queueMicrotask(A)),c.push(s)}function u(s,i){return s===i||(s==null?void 0:s[x])===i}function z(s={},i,t,T){return q(()=>{var f,r;return h(()=>{f=r,r=[],S(()=>{s!==t(...r)&&(i(s,...r),f&&u(t(...f),s)&&i(null,...f))})}),()=>{M(()=>{r&&u(t(...r),s)&&i(null,...r)})}}),s}export{z as b,M as q};
